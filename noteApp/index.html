<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Notes</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
<div id="app">
    <h1>{{title}}</h1>

    <div class="message" v-if="message">
        <p>{{ message }}</p>
    </div>
    <!--note note-->
    <div class="new-note">
        <input v-model="note.title" type="text">
        <textarea v-model="note.descr"></textarea>
        <button @click="addNote">New note</button>
    </div>

    <!--note list-->
    <div class="notes" v-for="(note, index) in notes" :key="index">
        <div class="note-header">
            <p>{{ note.title }}</p>
        </div>
        <div class="note-body">
            <p>{{ note.description }}</p>
            <span>{{ note.date }}</span>
        </div>

    </div>
</div>


<script>
    let app = new Vue({
        el: '#app',
        data: {
            title: 'Nodes App',
            message: null,
            note: {
                title: '',
                descr: ''
            },
            notes: [
                {
                    title: 'First note',
                    description: 'Description for first note',
                    date: new Date(Date.now()).toLocaleString()
                },
                {
                    title: 'Second note',
                    description: 'Description for second note',
                    date: new Date(Date.now()).toLocaleString()
                },
                {
                    title: 'Third note',
                    description: 'Description for third note',
                    date: new Date(Date.now()).toLocaleString()
                },
            ]
        },
        methods: {
            addNote(){
                // console.log(this.note)
                let {title, descr} = this.note;
                if(title === '') {
                    this.message = 'title cannot be blank';
                    return false;
                }
                this.notes.push({
                    title: title,
                    description: descr,
                    date: new Date(Date.now()).toLocaleString()
                });
                this.message = null;
                this.note.title = '';
                this.note.descr = '';
            }
        }
    })
</script>
</body>
</html>